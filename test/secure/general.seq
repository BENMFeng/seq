from secure.types import *
from secure.mpc import *

S = MPC([(0,1),(0,2),(1,2)], __cp__)

# extern c ZP_setup()
# ZP_setup()

x, y = 7z, 3z

x := Vec([1z, 2z, 3z, 4z, 5z])
y := Vec([9z, 8z, 7z, 6z, 5z]) 

x := Mat([
	[1z, 2z],
	[3z, 4z]
	])
y := Mat([
	[2z, 0z],
	[1z, 2z]
	])

print 'START SECRET SHARING'

a := S.share(x)
b := S.share(y)
c = 4z

secure:
	print a, b

	w = a + 5z
	print 'AP', w

	w = a * 5z
	print 'MP', w

	w = a + b
	print 'A', w

	w = a * b
	print 'M', w
	print w

	w := a @ b
	print 'MM', w

	print '-------------------------------------'
	w = w + 5z
	w := w @ b + b @ a + foo(a * b) + c
	print 'MM', w

S.cleanup()

