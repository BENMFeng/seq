from secure.types import *
from secure.mpc import *

S = MPC([(0,1),(0,2),(1,2)], __cp__)

# extern c ZP_setup()
# ZP_setup()

x, y = 7z, 3z

x := Vec([1z, 2z, 3z, 4z, 5z])
y := Vec([9z, 8z, 7z, 6z, 5z]) 

x := Mat([
	[1z, 2z],
	[3z, 4z]
	])
y := Mat([
	[2z, 0z],
	[1z, 2z]
	])

print 'START SECRET SHARING'

a := S.share(x)
b := S.share(y)

secure:
	print S.str(a), S.str(b)

	# w = S.add_public(a, 5z)
	# print 'AP', S.str(w)

	# w = S.mul_public(a, 5z)
	# print 'MP', S.str(w)

	# w = S.add(a, b)
	# print 'A', S.str(w)

	# w = S.mul(a, b)
	# print 'M', S.str(w)

	# w := S.matmul(a, b)
	# print 'MM', S.str(w)

S.cleanup()

