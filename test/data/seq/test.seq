# this is a comment

module s
  fun f: Seq -> Seq[]
    |> split(32,32) | collect
  end

  |> print
  let v = |> f()  # inline comment
  v | foreach | (count, _) | {
    |> @1 | print
    |> @2 | print
  }
  |> print

  let arr = {Int, Seq}[10]
  arr | foreach

  |> print
  |> split(64,64) | {
    let v1 = |> print
    v1 | split(32,32) | {
      let v2 = |> print
      |> split(16,16) | {
        |> print
        let v3 = |> copy | print
        let v4 = v3 | print
        v3 | print
      }
      v2 | print
    }
    |> print
  }
  |> print

  (v[1], v[2], (v[1], 4.2)) | @3 | @1 | print
end
